# ë””ìŠ¤í”Œë ˆì´ ì„¼ì„œì˜ ë¶ˆëŸ‰í’ˆ ìš”ì¸ ë¶„ì„

- 2016/1/1~12/31ì˜ Display Sensor Dataë¥¼ ì´ìš©í•˜ì—¬ ë¶€í’ˆíê¸°ì˜ ìš”ì¸ì´ ë˜ëŠ” sensor 5ê°œë¥¼ ì°¾ì•„ì•¼í•¨.
- íŒ€ì› : êµ¬í˜œì§„, ê¹€ë¯¼ê¸°, ì„œì˜í”, ì´ì„¸í¬,  ì´í˜¸ì˜, í™©ì •ì„
- ê¸°ê°„ : 2021/7/26 ~ 2021/8/
- [directory êµ¬ì¡°](#directory-êµ¬ì¡°)
- [ì´ìš© ë°©ë²•](#ì´ìš©-ë°©ë²•)

<br>

## 1ì£¼ì°¨ - ë°ì´í„° íƒìƒ‰
- 2021/07/26~ 2021/7/29
- ê²°ì¸¡ì¹˜ì²˜ë¦¬
- ìƒê´€ê´€ê³„í™•ì¸
- ë‹¤ì¤‘ê³µì„ ì„± í™•ì¸
- ìƒê´€ê´€ê³„ê°€ 1.0ì¸ ë°ì´í„°ë¥¼ ì œê±°í•˜ì—¬ ë‹¤ì¤‘ê³µì„ ì„±í™•ì¸í•¨
- ì¼ë¶€ ë°ì´í„°ì˜ ê¸°ìˆ í†µê³„ëŸ‰ í™•ì¸
- ì»¬ëŸ¼ëª…ì´ ë¹„ìŠ·í•œ ê²ƒë¼ë¦¬ ê·¸ë£¹í™”í•˜ì—¬ ìƒê´€ê´€ê³„í™•ì¸í•´ë³´ê¸°



### <ê¸ˆìš”ì¼ê¹Œì§€ ê°ì í•˜ê¸°>

1. ìƒê´€ê´€ê³„ 1ë¡œ ëœê²ƒë§Œ í•´ë³´ê¸°
2. ë¶„ì‚°ì´ 0ì¸ ì»¬ëŸ¼ì€ ì œê±°í•˜ê¸°

### <ì¼ìš”ì¼ ì˜¤ì „ê¹Œì§€  ê°ì í•˜ê¸°>

1. Left, Right, L, Rì— ë”°ë¼ì„œ ì»¬ëŸ¼ ë‚˜ëˆ„ê¸°
    ë‚˜ì¤‘ì— íê¸°ìœ¨ LEFT RIGHT ë‚˜ëˆ ì„œ ë¶„ë¥˜ë¥¼ í•´ë³´ê¸° ìœ„í•´ 
2. ì£¼ì„±ë¶„ ë¶„ì„í•´ì„œ ì‚°ì ë„ ê·¸ë ¤ë³´ê¸°



1. PPTì‘ì„± ??

### <ëª©ìš”ì¼ ê¹Œì§€>

1. VIFê³„ìˆ˜ êµ¬í•´ì„œ ë‹¤ì¤‘ê³µì„ ì„±ì´ ê°€ì¥ ë†’ì€ ê²ƒì„ ì œê±° 
   -> ì´ ê³¼ì •ì„ ê³„ì† ë°˜ë³µ. ë‹¤ì¤‘ê³µì„ ì„±ì´ 30ì´í•˜ê°€ ë ë•Œê¹Œì§€
2. ìƒê´€ê´€ê³„ 0.xë¡œ ì¤„ì—¬ì„œ VIFê³„ìˆ˜êµ¬í•˜ê¸°
3. ì‹œê³„ì—´
4. ì¢…ì†ë³€ìˆ˜ ìì²´ë¥¼ ì—°ê´€ë¶„ì„, ì‹œê³„ì—´ë¶„ì„ í•´ë³´ê¸° (í°ì˜í–¥ì€ ì•ˆ ì¤Œ)
5.  ë¶„ë¥˜ ëª¨ë¸ë¡œ ë§Œë“œëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ìŒ!
   1. ì´ì§„í™” í•˜ì—¬ ê°’ì´ ì–´ëŠ ì •ë„ë¡œ ë‚˜ì˜¤ëŠ” ê²ƒì´ ì¢‹ì„ì§€ ì°¾ì•„ë³´ì


## directory êµ¬ì¡°
   ```
   ğŸ“ data
   â”œâ”€â”€ ğŸ“„ factory_all_columns.txt
   |		ëª¨ë“  ì»¬ëŸ¼ëª… ì €ì¥(date,  íê¸°ìœ¨ ê´€ë ¨ ì»¬ëŸ¼ í¬í•¨)
   â”œâ”€â”€ ğŸ“„ same_coef_frame.xlsx
   |		ìƒê´€ê´€ê³„ê°€ 1.0ì¸ ì»¬ëŸ¼ëª… ì €ì¥íŒŒì¼
   ğŸ“‘ 1_Display_Sensor_Anomaly_Analysis_ê²°ì¸¡ì¹˜ì²˜ë¦¬ì™€ ìƒê´€ê³„ìˆ˜ì €ì¥.ipynb
   |		ê²°ì¸¡ì¹˜ì²˜ë¦¬ì™€ ìƒê´€ê³„ìˆ˜ì •ë³´ë¥¼  csvíŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” íŒŒì¼
   ğŸ“‘ 2_Display_Sensor_Anomaly_Analysis_ì €ì¥ë°ì´í„°ì½ê¸°.ipynb
   |		ì €ì¥ëœ csvíŒŒì¼ë“¤ì„ ë¶ˆëŸ¬ì™€ VIFê³„ìˆ˜ ë° ê·¸ ë‹¤ìŒ ë¡œì§ì²˜ë¦¬ë¥¼ êµ¬í˜„í•  íŒŒì¼
   ğŸ“‘ Display_Sensor_Anomaly_Analysis.ipynb
   		7/29 ë©˜í† ë§ë•Œ ë°œí‘œí•œ íŒŒì¼
   ```



## ì´ìš© ë°©ë²•

1. zipíŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ
   ì••ì¶•ì„ í•´ì œí•˜ì—¬ .ipynbíŒŒì¼ê³¼ ë‚˜ë¬´í”Œë˜ë‹›ìœ¼ë¡œë¶€í„° ë°›ì€ ì›ë³¸ë°ì´í„°(factory_glass_2016.csv)ì„  working directoryì— ìœ„ì¹˜ì‹œí‚¤ê¸°

2. 1_Display_Sensor_Anomaly_Analysis_ê²°ì¸¡ì¹˜ì²˜ë¦¬ì™€ ìƒê´€ê³„ìˆ˜ì €ì¥.ipynb    

   ê²°ì¸¡ì¹˜ì²˜ë¦¬ì™€ ìƒê´€ê³„ìˆ˜ì •ë³´ë¥¼  csvíŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤. ì´í›„ ì²˜ë¦¬ì‹œ csvíŒŒì¼ì„ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì‹œê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.   

   ì˜ì•ˆë˜ëŠ” ë¶€ë¶„ì´ ìˆê±°ë‚˜ ì´ìƒí•œ ë¶€ë¶„ì´ ìˆìœ¼ë©´ ì—°ë½ì£¼ì„¸ìš”!   

   â€‹    

   - ì‹¤í–‰í™˜ê²½ì— ë§ê²Œ working_dir ìˆ˜ì •

   ```
   working_dir = '/content/drive/MyDrive/Colab Notebooks/data/Display_Sensor_Anomaly_Analysis/'
   ```

   - ëª¨ë“  sensorì»¬ëŸ¼ ë°ì´í„°ê°„ì˜ ìƒê´€ê³„ìˆ˜ë¡œë¶€í„° ì¶”ì¶œí•  compare_numë³€ìˆ˜ë¥¼ ë³€ê²½

     - 0.9 í˜¹ì€ 1.0 ë“±ìœ¼ë¡œ  ë³€ê²½í•´ë³´ë©´ ë©ë‹ˆë‹¤ 

     ```
     # ì¶”ì¶œí•  ìƒê´€ê³„ìˆ˜ í¬ê¸° 
     compare_num = 1.0
     
     high_coef_df = pd.DataFrame(columns=['col1','col2','coef'])
     def get_high_coef(coef_df, compare_num):
         coef_df = coef_df[coef_df['coef'] >= compare_num]
         global high_coef_df
         high_coef_df = high_coef_df.append(coef_df,ignore_index=True)
         
     get_high_coef(coef_list_1,compare_num)
     get_high_coef(coef_list_2,compare_num)
     get_high_coef(coef_list_3,compare_num)
     get_high_coef(coef_list_4,compare_num)
     get_high_coef(coef_list_5,compare_num)
     get_high_coef(coef_list_6,compare_num)
     
     file_name = 'high_coef_df_upper_' + str(compare_num)
     # csv íŒŒì¼ë¡œ ì €ì¥
     high_coef_df.to_csv(working_dir + file_name + '.csv')
     
     ```

   - 1_Display_Sensor_Anomaly_Analysis_ê²°ì¸¡ì¹˜ì²˜ë¦¬ì™€ ìƒê´€ê³„ìˆ˜ì €ì¥.ipynb ëª¨ë‘ ì‹¤í–‰í•˜ê¸°

     - íŒŒì¼ì„ ì‹¤í–‰í•˜ê³  ë‚˜ë©´ working_directoryì— ë‹¤ìŒê³¼ ê°™ì€ íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤

       \- ì „ì²´ ë°ì´í„° : fact_data.csv

       \- sensor ë°ì´í„° : sensor_data.csv

       \- íê¸°ìœ¨ ê´€ë ¨ ë°ì´í„° : trash_data.sv

       \-  ì»¬ëŸ¼ë³„ ëª¨ë“  ìƒê´€ê³„ìˆ˜ì •ë³´ 

       ```
       corr_df0-100.csv
       corr_df100-200.csv
       corr_df200-300.csv
       corr_df300-500.csv
       corr_df500-700.csv
       corr_df700-891.csv
       ```
       \- XX ì´ìƒì˜ ìƒê´€ê³„ìˆ˜ ì •ë³´ :high_coef_df_upper_XX.csv

<br>

4. 2_Display_Sensor_Anomaly_Analysis_ì €ì¥ë°ì´í„°ì½ê¸°.ipynb       

   3ì˜ ì‹¤í–‰ìœ¼ë¡œ ì €ì¥ëœ íŒŒì¼ë“¤ì„ ë¶ˆëŸ¬ì™€ VIFê³„ìˆ˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.      

   - ì‹¤í–‰í™˜ê²½ì— ë§ê²Œ working_dir ìˆ˜ì •

   ```
   working_dir = '/content/drive/MyDrive/Colab Notebooks/data/Display_Sensor_Anomaly_Analysis/'
   ```

   - 3ì—ì„œ ì €ì¥í–ˆë˜ high_coef_df_upper_XX.csv íŒŒì¼ì„ ì½ì–´ì˜¤ê¸° ìœ„í•´ compare_numì„ ìˆ˜ì •í•©ë‹ˆë‹¤.

     ```
     compare_num = 1.0
     
     file_name = 'high_coef_df_upper_' + str(compare_num)
     
     # csv íŒŒì¼ë¶ˆëŸ¬ì˜¤ê¸°
     high_coef_df = pd.read_csv(working_dir + file_name + '.csv',usecols=(1,2,3))
     high_coef_df
     ```

   - ì´ ë¶€ë¶„ì€ sensorì»¬ëŸ¼ì— ëŒ€í•œ VIFê³„ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ì²˜ë¦¬ì…ë‹ˆë‹¤.

     - columns_allì˜ ë³€ìˆ˜ë¥¼ ì›í•˜ëŠ” ìƒí™©ì— ë§ê²Œ ì£¼ì„í•´ì œí•©ë‹ˆë‹¤
     - ì´ ë¶€ë¶„ì€ **ì‹¤í–‰ì‹œê°„ì´ ì•½ 40ë¶„ ì†Œìš”**ë©ë‹ˆë‹¤.

     ```
     from statsmodels.stats.outliers_influence import variance_inflation_factor
     
     # ëª¨ë“  sensor ì»¬ëŸ¼ì— ëŒ€í•œ VIFê³„ìˆ˜ë¥¼ êµ¬í•˜ê³ ì í• ë•Œ ì£¼ì„í•´ì œ
     # columns_all = sensor_data.columns
     
     #  ì¼ë¶€ ì»¬ëŸ¼ì— ëŒ€í•´ì„œ  VIFê³„ìˆ˜ë¥¼ êµ¬í•˜ê³ ì í• ë•Œ ì£¼ì„í•´ì œ
     # dropí•  ì»¬ëŸ¼ëª… ë„£ê°€
     # drop_columns = []
     # columns_all = [col for col in columns_all if col not in drop_columns]
     
     
     # í”¼ì²˜ë§ˆë‹¤ì˜ VIF ê³„ìˆ˜ë¥¼ ì¶œë ¥
     vif = pd.DataFrame()
     vif["VIF Factor"] = [variance_inflation_factor(fact_data[columns_all].values, i) for i in range(fact_data[columns_all].values.shape[1])]
     vif["features"] = fact_data[columns_all].columns
     vif
     
     ## ë¶„ì‚°íŒ½ì°½ íŒŒì¼ ì €ì¥
     vifdf = vif.sort_values(by="VIF Factor",ascending=False).round(1)
     vifdf.to_csv(working_dir + 'vifdf.csv')
     ```

   - íŒŒì¼ ì‹¤í–‰í•˜ê¸° 
   
     - VIFê³„ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ì²˜ë¦¬ì—ì„œ 40ë¶„ì •ë„ ì†Œìš” ë©ë‹ˆë‹¤. íŒŒì¼ì„ ì €ì¥í•œ í›„ì— ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•˜ì„¸ìš”
